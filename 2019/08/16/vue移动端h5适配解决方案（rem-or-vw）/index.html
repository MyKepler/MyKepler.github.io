<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="VUE," />





  <link rel="alternate" href="/atom.xml" title="Kepler's Blog" type="application/atom+xml" />






<meta name="description" content="方案一：amfe-flexible+px2rem-loader amfe-flexible：根据设备宽度，修改根元素html的大小，以适配不同终端px2rem-loader：将css中的px转为rem单位，用了它就不用自己计算rem值了  注意：amfe-flexible是lib-flexible的优化，主要区别是amfe-flexible不会改变视口大小 安装 + 配置1. 安装amfe-fle">
<meta name="keywords" content="VUE">
<meta property="og:type" content="article">
<meta property="og:title" content="vue移动端h5适配解决方案（rem or vw）">
<meta property="og:url" content="http://MyKepler.github.io/2019/08/16/vue移动端h5适配解决方案（rem-or-vw）/index.html">
<meta property="og:site_name" content="Kepler&#39;s Blog">
<meta property="og:description" content="方案一：amfe-flexible+px2rem-loader amfe-flexible：根据设备宽度，修改根元素html的大小，以适配不同终端px2rem-loader：将css中的px转为rem单位，用了它就不用自己计算rem值了  注意：amfe-flexible是lib-flexible的优化，主要区别是amfe-flexible不会改变视口大小 安装 + 配置1. 安装amfe-fle">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-11-04T07:17:00.189Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vue移动端h5适配解决方案（rem or vw）">
<meta name="twitter:description" content="方案一：amfe-flexible+px2rem-loader amfe-flexible：根据设备宽度，修改根元素html的大小，以适配不同终端px2rem-loader：将css中的px转为rem单位，用了它就不用自己计算rem值了  注意：amfe-flexible是lib-flexible的优化，主要区别是amfe-flexible不会改变视口大小 安装 + 配置1. 安装amfe-fle">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://MyKepler.github.io/2019/08/16/vue移动端h5适配解决方案（rem-or-vw）/"/>





  <title>vue移动端h5适配解决方案（rem or vw） | Kepler's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Kepler's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://MyKepler.github.io/2019/08/16/vue移动端h5适配解决方案（rem-or-vw）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Kepler">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Kepler's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">vue移动端h5适配解决方案（rem or vw）</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-16T17:22:16+08:00">
                2019-08-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/学习笔记/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="方案一：amfe-flexible-px2rem-loader"><a href="#方案一：amfe-flexible-px2rem-loader" class="headerlink" title="方案一：amfe-flexible+px2rem-loader"></a>方案一：amfe-flexible+px2rem-loader</h3><blockquote>
<p><strong>amfe-flexible</strong>：根据设备宽度，修改根元素html的大小，以适配不同终端<br><strong>px2rem-loader</strong>：将css中的px转为rem单位，用了它就不用自己计算rem值了</p>
</blockquote>
<p><strong>注意</strong>：amfe-flexible是lib-flexible的优化，主要区别是amfe-flexible不会改变视口大小</p>
<h4 id="安装-配置"><a href="#安装-配置" class="headerlink" title="安装 + 配置"></a>安装 + 配置</h4><h5 id="1-安装amfe-flexible和px2rem-loader"><a href="#1-安装amfe-flexible和px2rem-loader" class="headerlink" title="1. 安装amfe-flexible和px2rem-loader"></a>1. 安装amfe-flexible和px2rem-loader</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm  install -s amfe-flexible</span><br><span class="line">npm i px2rem-loader --save -dev</span><br></pre></td></tr></table></figure>
<h5 id="2-配置amfe-flexible"><a href="#2-配置amfe-flexible" class="headerlink" title="2. 配置amfe-flexible"></a>2. 配置amfe-flexible</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 入口文件main.js中引入</span><br><span class="line">import &apos;amfe-flexible/index.js&apos;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 在index.html中修改meta</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no&quot;&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>amfe-flexible干了什么呢？</p>
</blockquote>
<ul>
<li>给元素动态改写font-size的值</li>
<li>设置1rem = viewWidth / 10</li>
<li>设置页面刷新时重置rem</li>
<li>支持0.5px</li>
</ul>
<h5 id="3-配置px2rem-loader"><a href="#3-配置px2rem-loader" class="headerlink" title="3. 配置px2rem-loader"></a>3. 配置px2rem-loader</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// build/utils.js</span><br><span class="line">  const px2remLoader = &#123;</span><br><span class="line">    loader: &apos;px2rem-loader&apos;,</span><br><span class="line">    options: &#123;</span><br><span class="line">      remUnit: 75 //默认换算为1rem为75px，可根据你的原型图修改</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">// 在generateLoaders方法中添加px2remLoader</span><br><span class="line">  function generateLoaders (loader, loaderOptions) &#123;</span><br><span class="line">    const loaders = options.usePostCSS ? [cssLoader, postcssLoader, px2remLoader] : [cssLoader, px2remLoader]</span><br><span class="line">    if (loader) &#123;</span><br><span class="line">      loaders.push(&#123;</span><br><span class="line">        loader: loader + &apos;-loader&apos;,</span><br><span class="line">        options: Object.assign(&#123;&#125;, loaderOptions, &#123;</span><br><span class="line">          sourceMap: options.sourceMap</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    // Extract CSS when that option is specified</span><br><span class="line">    // (which is the case during production build)</span><br><span class="line">    if (options.extract) &#123;</span><br><span class="line">      return ExtractTextPlugin.extract(&#123;</span><br><span class="line">        use: loaders,</span><br><span class="line">        fallback: &apos;vue-style-loader&apos;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      return [&apos;vue-style-loader&apos;].concat(loaders)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<!-- ##### 4. 展示效果
- iPhoneX（屏幕宽度为375px）          
![](https://user-gold-cdn.xitu.io/2019/8/15/16c942540c51915b?w=1131&h=295&f=png&s=30600)

- iPhone6/7/8 plus（屏幕宽度为375px）          
![](https://user-gold-cdn.xitu.io/2019/8/15/16c9425a7d6e22a1?w=1147&h=305&f=png&s=32263)

- iPad（屏幕宽度为768px）              
![](https://user-gold-cdn.xitu.io/2019/8/15/16c9424dc192d495?w=1132&h=293&f=png&s=31527) -->
<h3 id="方案二：vw实现移动端适配"><a href="#方案二：vw实现移动端适配" class="headerlink" title="方案二：vw实现移动端适配"></a>方案二：vw实现移动端适配</h3><h4 id="插件介绍"><a href="#插件介绍" class="headerlink" title="插件介绍"></a>插件介绍</h4><h5 id="1-postcss-aspect-ratio-mini"><a href="#1-postcss-aspect-ratio-mini" class="headerlink" title="1. postcss-aspect-ratio-mini"></a>1. postcss-aspect-ratio-mini</h5><blockquote>
<p>主要用来处理元素容器宽高比。</p>
</blockquote>
<p>如果我们想要做一个188:246（188是容器宽度，246是容器高度）这样的比例容器，只需要这样使用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[w-188-246] &#123;</span><br><span class="line">  aspect-ratio: &apos;188:246&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>有一点需要特别注意：aspect-ratio属性不能和其他属性写在一起，否则编译出来的属性只会留下aspect-ratio的值。主要是因为在插件中做了相应的处理，不在每次调用aspect-ratio时，生成前面指定的默认样式代码，这样代码没那么冗余。所以在使用的时候，需要分开来写：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 编译前</span><br><span class="line">[w-188-246] &#123;</span><br><span class="line">  width: 188px;</span><br><span class="line">  background-color: red;</span><br><span class="line">&#125;</span><br><span class="line">[w-188-246] &#123;</span><br><span class="line">  aspect-ratio: &apos;188:246&apos;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// 编译后</span><br><span class="line">[w-188-246] &#123;</span><br><span class="line">  width: 25.067vw;</span><br><span class="line">  background-color: red;</span><br><span class="line">&#125;</span><br><span class="line">[w-188-246]:before &#123;</span><br><span class="line">  padding-top: 130.85106382978725%;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="2-postcss-px-to-viewport"><a href="#2-postcss-px-to-viewport" class="headerlink" title="2. postcss-px-to-viewport"></a>2. postcss-px-to-viewport</h5><blockquote>
<p>postcss-px-to-viewport主要用来把px单位转换为vw、vh、vmin或者vmax这样的视窗单位。</p>
</blockquote>
<p>目前出视觉设计稿，我们都是使用750px宽度的，那么100vw = 750px，即1vw = 7.5px。在不想要把px转换为vw的时候，首先在对应的元素（html）中添加配置中指定的类名.ignore或.hairlines(.hairlines一般用于设置border-width:0.5px的元素中)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 编译前</span><br><span class="line">.test &#123;</span><br><span class="line">  border: .5px solid black;</span><br><span class="line">  border-bottom-width: 4px;</span><br><span class="line">  font-size: 14px;</span><br><span class="line">  line-height: 20px;</span><br><span class="line">  position: relative;</span><br><span class="line">&#125;</span><br><span class="line">[w-188-246] &#123;</span><br><span class="line">  width: 188px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 编译后</span><br><span class="line">.test &#123;</span><br><span class="line">  border: .5px solid #000;</span><br><span class="line">  border-bottom-width: .533vw;</span><br><span class="line">  font-size: 1.867vw;</span><br><span class="line">  line-height: 2.667vw;</span><br><span class="line">  position: relative;</span><br><span class="line">&#125;</span><br><span class="line">[w-188-246] &#123;</span><br><span class="line">  width: 25.067vw;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="3-postcss-write-svg"><a href="#3-postcss-write-svg" class="headerlink" title="3. postcss-write-svg"></a>3. postcss-write-svg</h5><blockquote>
<p>postcss-write-svg插件主要使用的是border-image和background来做1px的相关处理。        </p>
</blockquote>
<ul>
<li>border-image方式：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">// 编译前</span><br><span class="line">@svg 1px-border &#123;</span><br><span class="line">  height: 2px;</span><br><span class="line">  @rect &#123;</span><br><span class="line">    fill: var(--color, black);</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 50%;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">.example &#123;</span><br><span class="line">  border: 1px solid transparent;</span><br><span class="line">  border-image: svg(1px-border param(--color #00b1ff)) 2 2 stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 编译后</span><br><span class="line">.example &#123;</span><br><span class="line">  border: 1px solid transparent;</span><br><span class="line">  border-image: url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; height=&apos;2px&apos;%3E%3Crect fill=&apos;%2300b1ff&apos; width=&apos;100%25&apos; height=&apos;50%25&apos;/%3E%3C/svg%3E&quot;) 2 2 stretch;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>background-image方式：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">// 编译前</span><br><span class="line">@svg square &#123;</span><br><span class="line">  @rect &#123;</span><br><span class="line">    fill: var(--color, black);</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#example &#123;</span><br><span class="line">  background: white svg(square param(--color #00b1ff));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 编译后</span><br><span class="line">#example &#123;</span><br><span class="line">  background: white url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos;%3E%3Crect fill=&apos;%2300b1ff&apos; width=&apos;100%25&apos; height=&apos;100%25&apos;/%3E%3C/svg%3E&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="4-postcss-cssnext"><a href="#4-postcss-cssnext" class="headerlink" title="4. postcss-cssnext"></a>4. postcss-cssnext</h5><blockquote>
<p>主要用来让我们使用CSS未来的特性，其会对这些特性做相关的兼容性处理。</p>
</blockquote>
<h5 id="5-cssnano"><a href="#5-cssnano" class="headerlink" title="5. cssnano"></a>5. cssnano</h5><blockquote>
<p>cssnano主要用来压缩和清理CSS代码。在Webpack中，cssnano和css-loader捆绑在一起，所以不需要自己加载它。不过你也可以使用postcss-loader显式的使用cssnano。</p>
</blockquote>
<p>cssnano集成了一些其他的PostCSS插件，如果你想禁用cssnano中的某个插件的时候，可以像下面这样操作：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;cssnano&quot;: &#123;</span><br><span class="line">  autoprefixer: false,</span><br><span class="line">  &quot;postcss-zindex&quot;: false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="6-postcss-viewport-units"><a href="#6-postcss-viewport-units" class="headerlink" title="6. postcss-viewport-units"></a>6. postcss-viewport-units</h5><blockquote>
<p>postcss-viewport-units插件主要是给CSS的属性添加content的属性，配合viewport-units-buggyfill库给vw、vh、vmin和vmax做适配的操作。</p>
</blockquote>
<h4 id="安装-配置-1"><a href="#安装-配置-1" class="headerlink" title="安装 + 配置"></a>安装 + 配置</h4><h5 id="1-安装PostCSS插件"><a href="#1-安装PostCSS插件" class="headerlink" title="1. 安装PostCSS插件"></a>1. 安装PostCSS插件</h5><blockquote>
<p>默认PostCSS插件（通过Vue-cli构建的项目默认安装了）：</p>
</blockquote>
<ul>
<li>postcss-import：主要用来处理@import引入路径问题。</li>
<li>postcss-url：主要用来处理文件，比如图片文件、字体文件等引用路径的处理。</li>
<li>autoprefixer：主要用来处理浏览器前缀问题。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i postcss-import --S</span><br><span class="line">npm i postcss-url --S   </span><br><span class="line">npm i autoprefixer --S</span><br></pre></td></tr></table></figure>
<blockquote>
<p>其他PostCSS插件：</p>
</blockquote>
<ul>
<li>postcss-aspect-ratio-mini：主要用来处理元素容器宽高比。</li>
<li>postcss-px-to-viewport：主要用来把px单位转换为vw、vh、vmin或者vmax这样的视窗单位。</li>
<li>postcss-write-svg：主要使用的是border-image和background来做1px的相关处理。</li>
<li>postcss-cssnext：主要用来让我们使用CSS未来的特性，其会对这些特性做相关的兼容性处理。</li>
<li>cssnano：主要用来压缩和清理CSS代码。</li>
<li>postcss-viewport-units：主要用来给CSS的属性添加content的属性，配合viewport-units-buggyfill库给vw、vh、vmin和vmax做适配的操作。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm i postcss-aspect-ratio-mini --S</span><br><span class="line">npm i postcss-px-to-viewport --S   </span><br><span class="line">npm i postcss-write-svg --S   </span><br><span class="line">npm i postcss-cssnext --S   </span><br><span class="line">npm i postcss-viewport-units --S   </span><br><span class="line">npm i cssnano --S</span><br></pre></td></tr></table></figure>
<h5 id="2-配置PostCSS插件"><a href="#2-配置PostCSS插件" class="headerlink" title="2. 配置PostCSS插件"></a>2. 配置PostCSS插件</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// 根目录下的.postcssrc.js</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  &quot;plugins&quot;: &#123;</span><br><span class="line">    &quot;postcss-import&quot;: &#123;&#125;,</span><br><span class="line">    &quot;postcss-url&quot;: &#123;&#125;,</span><br><span class="line">    &quot;postcss-aspect-ratio-mini&quot;: &#123;&#125;, </span><br><span class="line">    &quot;postcss-write-svg&quot;: &#123;</span><br><span class="line">      utf8: false</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;postcss-cssnext&quot;: &#123;&#125;,</span><br><span class="line">    &quot;postcss-px-to-viewport&quot;: &#123;</span><br><span class="line">      viewportWidth: 750,      // 视窗的宽度，对应的是我们设计稿的宽度，一般是750</span><br><span class="line">      viewportHeight: 1334,    // 视窗的高度，根据750设备的宽度来指定，一般指定1334，也可以不配置</span><br><span class="line">      unitPrecision: 3,        // 指定`px`转换为视窗单位值的小数位数（很多时候无法整除）</span><br><span class="line">      viewportUnit: &apos;vw&apos;,      // 指定需要转换成的视窗单位，建议使用vw</span><br><span class="line">      selectorBlackList: [&apos;.ignore&apos;, &apos;.hairlines&apos;],  // 指定不转换为视窗单位的类，可以自定义，可以无限添加,建议定义一至两个通用的类名</span><br><span class="line">      minPixelValue: 1,       // 小于或等于`1px`不转换为视窗单位，你也可以设置为你想要的值</span><br><span class="line">      mediaQuery: false       // 允许在媒体查询中转换`px`</span><br><span class="line">    &#125; </span><br><span class="line">    &quot;postcss-viewport-units&quot;:&#123;&#125;,</span><br><span class="line">    &quot;cssnano&quot;: &#123;</span><br><span class="line">      &quot;cssnano-preset-advanced&quot;: &#123;</span><br><span class="line">        zindex: false,</span><br><span class="line">        autoprefixer: false</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 在index.html中修改meta</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no&quot; /&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>什么情况下适合使用vw呢？</p>
<ul>
<li>容器适配，可以使用vw</li>
<li>文本的适配，可以使用vw</li>
<li>大于1px的边框、圆角、阴影都可以使用vw</li>
<li>内距和外距，可以使用vw</li>
</ul>
</blockquote>
<!-- ##### 3. 展示效果
- iPhoneX（屏幕宽度为375px）          
![](https://user-gold-cdn.xitu.io/2019/8/15/16c941cc3db56dba?w=1142&h=310&f=png&s=31168)

- iPhone6/7/8 plus（屏幕宽度为375px）          

![](https://user-gold-cdn.xitu.io/2019/8/15/16c941d572af1b5f?w=1153&h=317&f=png&s=34180)

- iPad（屏幕宽度为768px）              
![](https://user-gold-cdn.xitu.io/2019/8/15/16c941d020fc5c5d?w=1135&h=299&f=png&s=32544) -->
<h3 id="方案三：rem-vw-（结合方案一和方案二）"><a href="#方案三：rem-vw-（结合方案一和方案二）" class="headerlink" title="方案三：rem + vw （结合方案一和方案二）"></a>方案三：rem + vw （结合方案一和方案二）</h3><h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><ul>
<li><a href="https://juejin.im/entry/56a879a4c24aa8005448b8c4" target="_blank" rel="noopener">使用 Flexible 实现手淘 H5 页面的终端适配</a></li>
<li><a href="https://juejin.im/entry/5aa09c3351882555602077ca" target="_blank" rel="noopener">如何在Vue项目中使用vw实现移动端适配</a></li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/VUE/" rel="tag"># VUE</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/07/27/ES6_note/" rel="next" title="ES6笔记">
                <i class="fa fa-chevron-left"></i> ES6笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/03/26/从URL输入到页面展现到底发生了什么？/" rel="prev" title="从URL输入到页面展现到底发生了什么？">
                从URL输入到页面展现到底发生了什么？ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.JPG"
                alt="Kepler" />
            
              <p class="site-author-name" itemprop="name">Kepler</p>
              <p class="site-description motion-element" itemprop="description">Good things take time ❤</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/MyKepler" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:632637436@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#方案一：amfe-flexible-px2rem-loader"><span class="nav-number">1.</span> <span class="nav-text">方案一：amfe-flexible+px2rem-loader</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#安装-配置"><span class="nav-number">1.1.</span> <span class="nav-text">安装 + 配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-安装amfe-flexible和px2rem-loader"><span class="nav-number">1.1.1.</span> <span class="nav-text">1. 安装amfe-flexible和px2rem-loader</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-配置amfe-flexible"><span class="nav-number">1.1.2.</span> <span class="nav-text">2. 配置amfe-flexible</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-配置px2rem-loader"><span class="nav-number">1.1.3.</span> <span class="nav-text">3. 配置px2rem-loader</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方案二：vw实现移动端适配"><span class="nav-number">2.</span> <span class="nav-text">方案二：vw实现移动端适配</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#插件介绍"><span class="nav-number">2.1.</span> <span class="nav-text">插件介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-postcss-aspect-ratio-mini"><span class="nav-number">2.1.1.</span> <span class="nav-text">1. postcss-aspect-ratio-mini</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-postcss-px-to-viewport"><span class="nav-number">2.1.2.</span> <span class="nav-text">2. postcss-px-to-viewport</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-postcss-write-svg"><span class="nav-number">2.1.3.</span> <span class="nav-text">3. postcss-write-svg</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-postcss-cssnext"><span class="nav-number">2.1.4.</span> <span class="nav-text">4. postcss-cssnext</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-cssnano"><span class="nav-number">2.1.5.</span> <span class="nav-text">5. cssnano</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-postcss-viewport-units"><span class="nav-number">2.1.6.</span> <span class="nav-text">6. postcss-viewport-units</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#安装-配置-1"><span class="nav-number">2.2.</span> <span class="nav-text">安装 + 配置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-安装PostCSS插件"><span class="nav-number">2.2.1.</span> <span class="nav-text">1. 安装PostCSS插件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-配置PostCSS插件"><span class="nav-number">2.2.2.</span> <span class="nav-text">2. 配置PostCSS插件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方案三：rem-vw-（结合方案一和方案二）"><span class="nav-number">3.</span> <span class="nav-text">方案三：rem + vw （结合方案一和方案二）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#参考文档"><span class="nav-number">4.</span> <span class="nav-text">参考文档</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Kepler</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
